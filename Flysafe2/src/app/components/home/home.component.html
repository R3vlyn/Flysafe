<mat-tab-group>
    <mat-tab label="Connection">
        <h1 class="title">
            {{ 'PAGES.HOME.TITLE' | translate }}
        </h1>
        <p>Producer status: {{producerstate}}</p>
        <p>Consumer status {{consumerstate}}</p>
        <mat-form-field class="example-full-width">
            <input matInput value="Queue" placeholder="queuename" #queuename>
        </mat-form-field>
        <button mat-raised-button (click)="ConnectProducer(queuename.value)" color="primary">Connect Producer</button>
        <button mat-raised-button (click)="ConnectConsumer(queuename.value)" color="primary">Connect Consumer</button>
        <mat-list>

            <mat-list-item>
                <mat-form-field>
                    <mat-select placeholder="Targetqueue" #selectedqueue>
                        <mat-option *ngFor="let queue of producingqueues" [value]="queue" #selectedqueue>
                            {{queue}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <form>

                    <mat-form-field>
                        <input matInput value="Message" placeholder="message" #message>
                    </mat-form-field>
                </form>
                <mat-list-item> <button mat-raised-button (click)="sendMessage(selectedqueue.value, message.value)" color="primary">send message</button></mat-list-item>
            </mat-list-item>
            <mat-list-item>
                <mat-label>
                    {{lastmessageresult}}
                </mat-label>
            </mat-list-item>
        </mat-list>

    </mat-tab>
    <mat-tab label="Plane-data">
        <button mat-raised-button *ngIf="!creatingMessage" color="primary" (click)="CreateMessage()">Create message</button>
        <button mat-raised-button *ngIf="creatingMessage" color="primary" (click)="CancelMessage()">Cancel</button>
        <mat-card padding *ngIf="creatingMessage">
            <div class="example-container">

                <mat-form-field appearance="outline">
                    <input matInput [(ngModel)]="newMessage.message" placeholder="Message">
                    <mat-hint>Be short and effective</mat-hint>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <input matInput [(ngModel)]="newMessage.lat" placeholder="Latitude">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <input matInput [(ngModel)]="newMessage.lng" placeholder="Longitude">
                </mat-form-field>
                <mat-label>Altitude: {{newMessage.alt}}</mat-label>
                <mat-slider [(ngModel)]="newMessage.alt" min="5000" max="60000" step="5000"></mat-slider>
                <mat-form-field>
                    <mat-select placeholder="Severity" [(ngModel)]="newMessage.severity">
                        <mat-option value="CRITICAL">CRITICAL</mat-option>
                        <mat-option value="WARNING">WARNING</mat-option>
                        <mat-option value="INFO">INFO</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-select placeholder="Type" [(ngModel)]="newMessage.type">
                        <mat-option value="WIND">WIND</mat-option>
                        <mat-option value="STORM">STORM</mat-option>
                        <mat-option value="FROST">FROST</mat-option>
                        <mat-option value="HEAT">HEAT</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <button mat-raised-button *ngIf="creatingMessage" color="primary" (click)="NotifyPlanes()">Send message</button>
            <button mat-raised-button *ngIf="creatingMessage" color="primary" (click)="PickLocation()">Select another location</button>
        </mat-card>

        <mat-card class="margin borders" *ngFor="let data of receivedPlaneData">
            <mat-card-content>
                <h2>{{data.plane}}</h2>
                <h3>{{data.message}}</h3>
                <h4>{{data.type}}, {{data.severity}}</h4>
                <mat-chip-list>
                    <mat-chip>Longitude: {{data.lng}}</mat-chip>
                    <mat-chip>Latitude: {{data.lat}}</mat-chip>
                    <mat-chip>Altitude: {{data.alt}}</mat-chip>
                </mat-chip-list>

                <p>{{data.date}}</p>
            </mat-card-content>
            <mat-card-actions align="start">
                <button mat-raised-button color="primary">Save</button>
                <button mat-raised-button color="primary">Discard</button>
            </mat-card-actions>
        </mat-card>
    </mat-tab>
    <mat-tab label="Summary">
        <h1>Some analytics</h1>
        <p>...</p>
    </mat-tab>
</mat-tab-group>